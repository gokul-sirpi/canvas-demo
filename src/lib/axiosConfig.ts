import axios from 'axios';
import keycloak from './keycloak';
import envurls from '../utils/config';

export const axiosAuthClient = axios.create({
  baseURL: envurls.ugixAuthServer + 'auth/',
});

axiosAuthClient.interceptors.request.use((config) => {
  // const token =`
  // Bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJqdjhDZ3pfSENNWnNhWmlzTkJfVGM3NVlrOXo1MGhtWXFrbi1XOVBxWHBVIn0.eyJleHAiOjE3MTk5OTk0MDcsImlhdCI6MTcxOTk5OTEwNywiYXV0aF90aW1lIjoxNzE5OTk2Mjg0LCJqdGkiOiJiNGFmNmZiMS01NzUwLTRlZWMtODJlYy1iYjE3YTFmZjNjNTQiLCJpc3MiOiJodHRwczovL2tleWNsb2FrLnVnaXgub3JnLmluL2F1dGgvcmVhbG1zL3VnaXgiLCJhdWQiOiJhY2NvdW50Iiwic3ViIjoiMDMxYjM3ZDctZTRiNC00MGNjLTgyMmMtN2E3ZjA3NGZhNGFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoidWdpeC1hbmd1bGFyLWNsaWVudCIsIm5vbmNlIjoiM2ExMjM0ZmUtZTg2Ny00MzYyLTg1NGMtMTZkMDIxOTA2YzY5Iiwic2Vzc2lvbl9zdGF0ZSI6IjEyZjMxOWJjLWUzMWYtNDRiNy1iYjMxLWNiZDY0NGI1NTQ1MCIsImFsbG93ZWQtb3JpZ2lucyI6WyJodHRwczovL2h1Yi5wbGF5Z3JvdW5kLnVnaXgub3JnLmluIiwiaHR0cHM6Ly9jYW52YXMudWdpeC5vcmcuaW4iLCJodHRwczovL3NhbmRib3gudWdpeC5vcmcuaW4iLCJodHRwczovL2NhdGFsb2d1ZS51Z2l4Lm9yZy5pbiIsImh0dHBzOi8vcGxheWdyb3VuZC51Z2l4Lm9yZy5pbiIsImh0dHBzOi8vZGV2LWNhbnZhcy5pdWR4LmlvIiwiaHR0cHM6Ly9jYW52YXMtdGVzdC51Z2l4Lm9yZy5pbiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZGVmYXVsdC1yb2xlcy11Z2l4Iiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiJdfSwicmVzb3VyY2VfYWNjZXNzIjp7ImFjY291bnQiOnsicm9sZXMiOlsibWFuYWdlLWFjY291bnQiLCJtYW5hZ2UtYWNjb3VudC1saW5rcyIsInZpZXctcHJvZmlsZSJdfX0sInNjb3BlIjoib3BlbmlkIHByb2ZpbGUgZW1haWwiLCJzaWQiOiIxMmYzMTliYy1lMzFmLTQ0YjctYmIzMS1jYmQ2NDRiNTU0NTAiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwibmFtZSI6Ik9qYXMgSmFpbiIsInByZWZlcnJlZF91c2VybmFtZSI6Im9qYXMyNDAxMjAwMmphaW5AZ21haWwuY29tIiwiZ2l2ZW5fbmFtZSI6Ik9qYXMiLCJmYW1pbHlfbmFtZSI6IkphaW4iLCJlbWFpbCI6Im9qYXMyNDAxMjAwMmphaW5AZ21haWwuY29tIn0.Iqut_ZkMFGu7iQLRkUq44pAnwrmmSuc2PxFViQg3vGpqMeWw3-wl7LTnFSnxa-fHJ0FZsxZTUpQ7oy4Tg6z99qkSQ2agSuXkCuQP2hHm-K8_xEccp1n29GV9wvQq_4pHdqtmq3Ljw5rDa8RlsGL-76B_m339AaSwDWjPUgtVF620ZL9Of2rmuk17zrwckmPPl8-JWGQyFuDE-Ky1mEoi-FjXZhcg_Wr5Fb-61d-xzis2Q8xfZwZ6djWaJxESTr1V8YchJaWGUnigiCxihxUDiW1hJwZdClY19bWqFOwEODSeyc_H02PgN767xlGbD3QLj2NingX5VHJXxZya35q4Sw
  // `;
  // config.headers.Authorization = `${token}`;
  
  config.headers.Authorization = `Bearer ${keycloak.token}`;
  return config;
});
